<span pRipple class="row main" (click)="chatSelected()" [ngClass]="activeChat ? 'active-chat' : ''"
    (mouseenter)="mouseEnter()" (mouseleave)="mouseLeave()">
    <div class="chat-avatar">
        <p-avatar icon="pi pi-user" styleClass="" [size]="'large'" shape="circle" [label]="chat.name.split('')[0]"
            [style]="{'background-color':randomColor, 'color': '#ffffff'}"></p-avatar>
    </div>
    <div class="chat-user">
        <div class="row d-flex justify-content-between">
            <div class="col pr-0">
                <h5 class="p-0 m-0 text-truncate">
                    {{chat.name}}
                    <span *ngIf="socket.User._id == chat._id">(You)</span>
                </h5>
            </div> 
            <div class="col-auto pl-0 small text-end" style="font-size: 0.7em;">
                {{chat.messages[chat.messages.length-1].datetime |
                date:isToday(chat.messages[chat.messages.length-1].datetime) ? 'h:mm a' : 'd/M/yy' }}
            </div>
        </div>
        <div class=" d-flex justify-content-between">
            <div class="col-11">
                <p class="p-0 m-0 text-truncate">{{chat.messages[chat.messages.length-1].message}}</p>
            </div>
            <div class="col-1 p-0">
                <i pRipple class="pi pi-trash text-warning" (click)="confirm($event); $event.stopPropagation();"></i>
            </div>
        </div>
    </div>
</span>